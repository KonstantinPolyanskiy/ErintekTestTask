# ErintekTestTask

## Общие особенности реализации.
- Для каждого из заданий написаны Unit тесты с использованием ```XUnit``` и ```FluentAssertions```
- Прогнать все тесты можно одной командой с помощью Docker'а, с просмотром результатов через браузер.

### Особенности решения Задания 1.
- Описаны контракты для однопоточного и параллельного лифтов.
- Написана потокобезопасная (на основе Семафора на один поток) реализация, имплементирующая оба контракта.
- Вывод в консоль происходит с помощью делегата, с целью сохранения принципа инверсии зависимостей.

### Особенности решения Задания 2.
- Выполнено согласно ТЗ.

### Особенности решения Задания 3.
- Вместо реализации на if/else был сознательно выбран способ через ```IComparer```.
- Выделены абстракции, позволяющие реализовать сортировку на основе любого типа данных, через который может быть выражен возраст (DateTime - дата рождения, ulong - кол-во секунд от рождения и т.д.)
- Соблюдение инварианта диапазона допустимых возрастов за счет собственной реализации IComparer.
- Решение задания разделено на клиента (консольное приложение, частино переопределяющее реализацию библиотеки ```AgeComparator```) и библиотеку (набор абстракций, типов-результатов и конкретных реализаций).

## Структура проекта - 

- **Source.Elevator**  
  *Реализация Задания 1.*  
  &nbsp;&nbsp;&bull; **Contracts** – Набор контрактов, которые может реализовывать лифт.
  &nbsp;&nbsp;&bull; **Impl** – Непосредственная реализация лифта.

- **Source.GeometryCalculation**  
  *Реализация Задания 2.*  
  &nbsp;&nbsp;&bull; **Calculators** – Классы, реализующие рассчеты для различных геометрических фигур.

- **Source.AgeComparator**  
  *Реализация Задания 3 (1 часть).*  
  &nbsp;&nbsp;&bull; **Abstractions** – Абстракции и базовая реализация для класса AgeComparator.
  &nbsp;&nbsp;&bull; **Impl** – Наследники BaseAgeComparator, реализующие сравнение и сортировку на основе конкретных типов данных.
  &nbsp;&nbsp;&bull; **Models** – Модели, используемые библиотекой для предоставления результата работы.

- **Source.AgeComparatorConsole**  
  *Реализация Задания 3 (2 часть).*  
  &nbsp;&nbsp;&bull; **Comparers** – Реализации ```IComparer``` для гибкой алгоритма сравнения возрастов.
  &nbsp;&nbsp;&bull; **Exceptions** – Исключения, специфичные для приложения-клиента.

  ## Запуск тестов в Docker

### Шаг 1. Клонирование репозитория.

```bash
git clone https://github.com/KonstantinPolyanskiy/ErintekTestTask.git
```

### Шаг 2. Запуск docker образа.

```bash
cd ErintekTestTask && docker run --rm -v "$PWD":/host:ro -v "$PWD/TestResults":/host/TestResults -w /work test-runner
```

### Шаг 3. Перейти в директорию с результатами тестов.

```bash
cd TestResults
```

### Шаг 4. Открыть файл TestResults.html браузером.

  

  
  
